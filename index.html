<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fake News Quiz | UNESCO Hackathon</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>Fake News Quiz üì∞‚ùå‚úÖ</h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="pages/about.html">About</a>
      <a href="pages/leaderboard.html">Leaderboard</a>
    </nav>
  </header>

  <div class="container">
    <h2>Welcome to the Fake News Challenge!</h2>
    <p>
      Test your skills in spotting real vs. fake headlines.  
      Answer carefully and try to get the top spot on the leaderboard!
    </p>

    <button id="start-btn">Start Quiz üöÄ</button>

    <!-- Quiz area -->
    <div id="quiz" class="hidden">
      <div class="question-box">
        <h3 id="question">Question will appear here</h3>
        <div class="options hidden" id="options"> <!-- hidden initially -->
          <button class="option-btn" data-choice="real">Real ‚úÖ</button>
          <button class="option-btn" data-choice="fake">Fake ‚ùå</button>
        </div>
      </div>
      
      <div id="feedback" class="feedback hidden"></div>
      <div id="mascot" class="mascot hidden">üéâ</div>
      <p class="score">Score: <span id="score">0</span></p>
      <button id="restart-btn" class="hidden">Restart </button> <!-- Restart -->
    </div>
  </div>

  <footer>
    <p>&copy; 2025 UNESCO Hackathon | Fake News Quiz</p>
  </footer>

  <script>
    const startBtn = document.getElementById("start-btn");
    const quizDiv = document.getElementById("quiz");
    const questionEl = document.getElementById("question");
    const optionsDiv = document.getElementById("options");
    const optionBtns = document.querySelectorAll(".option-btn");
    const feedbackEl = document.getElementById("feedback");
    const mascotEl = document.getElementById("mascot");
    const scoreEl = document.getElementById("score");
    const restartBtn = document.getElementById("restart-btn");

    let currentQuestion = 0;
    let score = 0;
    let quizStarted = false;

    const questions = [
      {
        text: "NASA confirms water found on the sun.",
        answer: "fake",
        explanation: "Nope! The Sun is way too hot for water to exist."
      },
      {
        text: "WHO declared COVID-19 a global pandemic in March 2020.",
        answer: "real",
        explanation: "Correct! That was when the outbreak was declared a pandemic."
      },
      {
        text: "A man in Belgium built a car that runs on chocolate.",
        answer: "fake",
        explanation: "Funny idea, but not true. Chocolate fuel isn‚Äôt practical."
      }
    ];

    function loadQuestion() {
      if (currentQuestion < questions.length) {
        questionEl.textContent = questions[currentQuestion].text;
        feedbackEl.classList.add("hidden");
        mascotEl.classList.add("hidden");
        optionsDiv.classList.remove("hidden"); // show answer buttons
      } else {
        endQuiz();
      }
    }

    function checkAnswer(choice) {
      const q = questions[currentQuestion];
      if (choice === q.answer) {
        score++;
        feedbackEl.textContent = "‚úÖ Correct! " + q.explanation;
        mascotEl.textContent = "üéâ";
      } else {
        feedbackEl.textContent = "‚ùå Oops! " + q.explanation;
        mascotEl.textContent = "üò¢";
      }
      feedbackEl.classList.remove("hidden");
      mascotEl.classList.remove("hidden");
      scoreEl.textContent = score;
      currentQuestion++;
      setTimeout(loadQuestion, 2000);
    }

    function endQuiz() {
      questionEl.textContent = "Quiz Finished!";
      feedbackEl.textContent = `Game Over! Your final score: ${score}`;
      feedbackEl.classList.remove("hidden");
      mascotEl.textContent = "üèÜ";
      mascotEl.classList.remove("hidden");
      optionsDiv.classList.add("hidden"); // hide buttons
      restartBtn.classList.remove("hidden"); // show restart

      const name = prompt("Enter your name for the leaderboard:");
      if (name) {
        let leaderboard = JSON.parse(localStorage.getItem("leaderboard")) || [];
        leaderboard.push({ name, score });
        localStorage.setItem("leaderboard", JSON.stringify(leaderboard));
      }
    }

    optionBtns.forEach(btn => {
      btn.addEventListener("click", () => {
        if (quizStarted) checkAnswer(btn.dataset.choice);
      });
    });

    startBtn.addEventListener("click", () => {
      startBtn.style.display = "none";
      quizDiv.classList.remove("hidden");
      quizStarted = true;
      currentQuestion = 0;
      score = 0;
      scoreEl.textContent = score;
      loadQuestion();
    });

    restartBtn.addEventListener("click", () => {
      restartBtn.classList.add("hidden");
      currentQuestion = 0;
      score = 0;
      scoreEl.textContent = score;
      feedbackEl.classList.add("hidden");
      mascotEl.classList.add("hidden");
      loadQuestion();
    });
  </script>
</body>
</html>
